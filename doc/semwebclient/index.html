<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Semantic Web Client Library</title>
<style type="text/css">
body { background: white; color: black; font-family: sans-serif; line-height: 1.4em; padding: 2.5em 3em; margin: 0; }
:link { color: #00c; }
:visited { color: #609; }
a:link img { border: none; }
a:visited img { border: none; }
h1, h2, h3 { background: white; color: #800; }
h1 { font: 170% sans-serif; margin: 0; }
h2 { font: 140% sans-serif; margin: 1.5em 0 -0.5em 0; }
h3 { font: 120% sans-serif; margin: 1.5em 0 -0.5em 0; }
h4 { font: bold 100% sans-serif; }
h5 { font: italic 100% sans-serif; }
h6 { font: small-caps 100% sans-serif; }
.hide { display: none; }
pre { background: #fff6bb; font-family: monospace; line-height: 1.2em; padding: 1em 2em; }
dt { font-weight: bold; margin-top: 0; margin-bottom: 0; }
dd { margin-top: 0; margin-bottom: 0; }
code, tt { font-family: monospace; }
ul.toc { list-style-type: none; }
ol.toc li a { text-decoration: none; }
.note { color: red; }
#header { border-bottom: 1px solid #ccc; }
#logo { float: right; }
#authors { clear: right; float: right; font-size: 80%; text-align: right; }
#content { clear: both; margin: 2em auto 0 0; text-align: justify }
#download { font-family: sans-serif; margin-bottom: 1em; text-align: center; }
#download h2 { font-size: 125%; margin: 1.5em 0 -0.2em 0; }
#download small { color: #888; font-size: 80%; }
#footer { border-top: 1px solid #ccc; color: #aaa; margin: 2em 0 0; }

@media Print {
* { font-size: 92%; }
body { padding: 0; line-height: 1.2em; }
#content { margin: 0; width: 100%; }
}
@media Aural {
h1 { stress: 20; richness: 90; }
h2 { stress: 20; richness: 90; }
h3 { stress: 20; richness: 90; }
.hide { speak: none; }
dt { pause-before: 20%; }
pre { speak-punctuation: code; }
}
.Stil1 {color: #FF0000}
</style>
</head>
<body>

<div id="logo">
  <a href="http://www.fu-berlin.de/"><img src="fu-logo.gif" alt="Freie Universität Berlin Logo"></a>
</div>

<div id="header">
  <h1 style="font-size: 250%;">Semantic Web Client Library </h1>
  <div id="tagline">Querying the complete Semantic Web with SPARQL.</div>
</div>
<div id="authors">
  <p><a href="http://www.bizer.de/" target="_blank">Chris Bizer<br />
  </a><a href="mailto:tobias.gauss@web.de">Tobias Gau&szlig;<br />
  </a> 
    <a href="http://richard.cyganiak.de/" target="_blank">Richard Cyganiak</a><br>
    <a href="http://www.informatik.hu-berlin.de/~hartig" target="_blank">Olaf Hartig</a><br>
  </p>
</div>

<div id="content">

<p>The <strong>Sematic Web Client Library</strong> represents the complete
Semantic Web as a single RDF graph. The library enables applications to query this global  graph using SPARQL- and find(SPO) queries.   To answer queries,
the library dynamically retrieves information from the Semantic Web by
dereferencing HTTP URIs, by following <tt>rdfs:seeAlso</tt> links, and by
querying the <a href="http://sindice.com" target="_blank">Sindice</a> search
engine. The library is written in Java and is based on the Jena
framework.</p>
<h2>Contents</h2>
<ol>
  <li><a href="#intro">Introduction</a></li>
  <li><a href="#how">How does the Library work? </a></li>
  <li><a href="#examples">Example Queries </a></li>
  <li><a href="#command">Using the Library on the Command Line </a></li>
  <li><a href="#using">Using the Library in your Applications </a></li>
  <li><a href="#grddl">GRDDL support</a></li>
  <li><a href="#sindice">Sindice Search Engine Support</a></li>
  <li><a href="#download">Download</a></li>
  <li><a href="#support">Support and Feedback </a></li>
</ol>
<p>&nbsp;</p>

<h2><a name="intro" id="intro"></a>1. Introduction</h2>

<p>There is a recent tendency in the Semantic Web community to stress the<strong> Web aspect</strong> of the <a href="http://www.w3.org/2001/sw/" target="_blank">Semantic Web</a>, meaning that
the Semantic Web is increasingly understood as a single, global information
space consisting of interlinked RDF data.</p>
<p>This tendency is carried by the 

 
  revival   of ideas around interlinking data on the Semantic Web: Current W3C efforts stress the fact that URI references should be dereference-able (<a href="http://www.w3.org/TR/swbp-vocab-pub/" target="_blank">W3C working draft on Best Practice Recipes for Publishing RDF Vocabularies</a>). There is a nice memo by Tim Berners-Lee about the role of links on the Semantic Web (<a href="http://www.w3.org/DesignIssues/LinkedData.html" target="_blank">Berners-Lee: Linked Data</a>). There are efforts around <a href="http://swoogle.umbc.edu/">Swoogle</a> to measure the size and characterize the content of the Semantic Web (<a href="http://ebiquity.umbc.edu/paper/html/id/316/Characterizing-the-Semantic-Web-on-the-Web" target="_blank">Ding, Finin: Characterizing the Semantic Web on the Web</a>). The <a href="http://www.w3.org/2005/ajar/About.html" target="_blank">Tabulator</a> browser lets surfers browse interlinked data on the Semantic Web (<a href="http://swui.semanticweb.org/swui06/papers/Berners-Lee/Berners-Lee.pdf">Berners-Lee et al: Tabulator: Exploring and Analyzing linked data on the Semantic Web</a>). Tools like <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/d2r-server/">D2R Server</a> make it easy to publish existing data on on the Semantic Web (<a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/pub/Bizer-Cyganiak-D2R-Server-ISWC2006.pdf">Bizer, Cyganiak: D2R Server – Publishing Relational Databases on the Semantic Web</a>).</p>
<p>All these efforts are based on the assumption that, for being part of the Semantic Web, data should ideally 


 fulfill

 the following requirements:</p>

<ol>
<li>All entities of interest, such as information resources,
real-world objects, and vocabulary terms should be identified by
URI references.</li>
<li>URI references should be <a href="http://www.w3.org/TR/2004/REC-webarch-20041215/#dereference-uri">dereference-able</a>, meaning that an application can look up a URI over the HTTP protocol and retrieve RDF data about the identified resource.</li>
<li>Data should be provided using the <a href="http://www.w3.org/TR/rdf-syntax-grammar/">RDF/XML</a> or <a href="http://www.dajobe.org/2004/01/turtle/">Turtle</a> syntax. If data is embedded inside other Web documents, for instance using <a href="http://microformats.org/" target="_blank">Microformats </a>inside an HTML page, then these documents should include hints
how to automatically extract RDF data from them, for instance using <a href="http://www.w3.org/TR/2006/WD-grddl-scenarios-20061002/" target="_blank">GRDDL</a>.</li>
<li>Data should be interlinked with other data. Thus resource descriptions should contain links to related information in the form of dereference-able URIs within RDF statements and <tt><a href="http://www.w3.org/TR/rdf-schema/#ch_seealso">rdfs:seeAlso</a></tt> links. </li>
</ol>

<p>The <strong>Semantic Web Client Library</strong> regards all data that is published according to these rules as a single, global set of <a href="http://www.w3.org/2004/03/trix/">named RDF graphs</a>. The library allows application to query the merge of this graph set using the <a href="http://www.w3.org/TR/rdf-sparql-query/">SPARQL</a> query language or using find(SPO) queries. The triples that are returned by a find(SPO) query are linked to the graphs in which they occur, meaning that applications can keep track of information  provenance.</p>

<p>Technically, the library represents the Semantic Web as a single <a href="http://jena.sourceforge.net/">Jena RDF graph or Jena Model</a>. As both interfaces are commonly used within RDF applications, the library can be used to replace local RDF stores. Meaning that an RDF application is turned into a Semantic Web application. For instance, it might be fun to plug the library  below existing RDF browsers. </p>


<h2><a name="how" id="how"></a>2. How does the Library work?</h2>

<p>For answering queries, the library dynamically retrieves information from the Semantic Web. In order to prevent 


 unnecessary

 information from being retrieved, the library uses a directed-browsing algorithm that is similar to the algorithm used by the Tabulator browser (See section 4 of the <a href="http://swui.semanticweb.org/swui06/papers/Berners-Lee/Berners-Lee.pdf" target="_blank">Tabulator paper</a>). </p>

<p>The library caches retrieved information locally as a set of named graphs. The library splits  SPARQL queries into a set of triple patterns which are 
  
 
  consecutively matched against the Semantic Web.</p>

<p>For each triple pattern, the library executes the following algorithm:</p>
<ol>
  <li>look up URIs that appear in the triple pattern. Add retrieved graphs to the local graph set.</li>
  <li>look up any URI y where the graph set includes the triple { x rdfs:seeAlso y } and x is a URI from the triple pattern. Add retrieved graphs to the local graph set.</li>
  <li>match the triple pattern against all graphs in the local graph set.</li>
  <li>for each triple that matches the triple pattern
    <ol>
      <li>look up all new URIs that 


 appear

 in the triple. Add retrieved graphs to the local graph set.</li>
      <li>look up any new URI y where the graph set includes the triple { x rdfs:seeAlso y } and x is a URI from a matching triple. Add retrieved graphs to the local graph set.</li>
    </ol>
  </li>
  <li>match the triple pattern against all newly retrieved graphs.</li>
  <li>repeat step 4 and 5 until the maximum number of retrieval steps or the timeout is reached.</li>
</ol>

<p>The library is multithreaded to allow faster retrieval. For URIs containing the hash character ("#"), the part before the hash will be used for retrieval.</p>

<p>Retrieved graphs are kept in the local cache after the query execution is finished. Thus, the local cache is cumulatively filled by executing queries and the same query might return different results if it is asked again after some other queries have been executed. For providing the algorithm with proper starting points, it can be helpful to manually load some graphs into the local cache before querying.</p>

<p>&nbsp;</p>


<h2><a name="examples" id="examples"></a>3. Example Queries </h2>

<p>This section shows the results of some example queries against the Semantic Web.</p>

<h3>3.1 Query 1: Developers of the Tabulator Project </h3>
<p><strong>Query</strong> </p>
<p>&quot;Find all developers of the Tabulator Project, their email addresses and other projects they are involved in.&quot;</p>
<p><strong>SPARQL Query</strong></p>
<pre>PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX doap: &lt;http://usefulinc.com/ns/doap#&gt;
SELECT DISTINCT ?name ?mbox ?projectName
WHERE { 
  &lt;http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator&gt; doap:developer ?dev .
  ?dev foaf:name ?name .
  OPTIONAL { ?dev foaf:mbox ?mbox }
  OPTIONAL { ?dev doap:project ?proj . 
             ?proj foaf:name ?projectName }
}</pre>
<p><strong>Query Results</strong></p>
<table width="90%"  border="1">
  <tr>
    <td><strong>?name</strong></td>
    <td><strong>?mbox</strong></td>
    <td><strong>?projectName</strong></td>
  </tr>
  <tr>
    <td>"Ruth Dhanaraj"</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Timothy Berners-Lee"</td>
    <td>&lt;mailto:timbl@w3.org&gt;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"David Sheets"</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"James Hollenbach"</td>
    <td>&lt;mailto:jambo@mit.edu&gt;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Dan Connolly"</td>
    <td>&lt;mailto:connolly@w3.org&gt;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Adam Lerer"</td>
    <td>"alerer@mit.edu"</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Yuhsin Joyce Chen"</td>
    <td>"yuhsin@mit.edu"</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Yu-hsin Chen"</td>
    <td>"yuhsin@mit.edu"</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Lydia Chilton"</td>
    <td>"hmslydia@gmail.com"</td>
    <td>"The illustrious project II"</td>
  </tr>
  <tr>
    <td>"Lydia Chilton"</td>
    <td>"hmslydia@gmail.com"</td>
    <td>"The inimitable project III"</td>
  </tr>
</table>

<p><strong>Retrieved Graphs</strong></p>

<p>The following graphs have been retrieved by the library's directed browsing algorithm for 


 answering

 the query:</p>
<ul>
  <li><a href="http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator">http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator</a></li>
  <li><a href="http://web.mit.edu/ruthdhan/www/foaf.rdf%23ruthdhan">http://web.mit.edu/ruthdhan/www/foaf.rdf#ruthdhan</a></li>
  <li><a href="http://web.mit.edu/dsheets/www/foaf.rdf%23dsheets">http://web.mit.edu/dsheets/www/foaf.rdf#dsheets</a></li>
  <li><a href="http://web.mit.edu/hmslydia/Public/foaf.rdf%23hmslydia">http://web.mit.edu/hmslydia/Public/foaf.rdf#hmslydia</a></li>
  <li><a href="http://www.w3.org/People/Berners-Lee/card#i">http://www.w3.org/People/Berners-Lee/card#i</a></li>
  <li><a href="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</a></li>
  <li><a href="http://usefulinc.com/ns/doap%23developer">http://usefulinc.com/ns/doap#developer</a></li>
  <li><a href="http://web.mit.edu/jambo/www/foaf.rdf%23jambo">http://web.mit.edu/jambo/www/foaf.rdf#jambo</a></li>
  <li><a href="http://web.mit.edu/yuhsin/www/foaf.rdf%23yuhsin">http://web.mit.edu/yuhsin/www/foaf.rdf#yuhsin</a></li>
  <li><a href="http://web.mit.edu/alerer/www/foaf.rdf%23alerer">http://web.mit.edu/alerer/www/foaf.rdf#alerer</a></li>
  <li><a href="http://xmlns.com/foaf/0.1/mbox">http://xmlns.com/foaf/0.1/mbox</a></li>
  <li><a href="http://www.w3.org/People/Connolly/home-smart.rdf">http://www.w3.org/People/Connolly/home-smart.rdf</a></li>
  <li><a href="http://www.w3.org/People/Connolly/travel-sched">http://www.w3.org/People/Connolly/travel-sched</a></li>
  <li><a href="http://web.mit.edu/hmslydia/Public/project02.rdf%23project02">http://web.mit.edu/hmslydia/Public/project02.rdf#project02</a></li>
  <li><a href="http://web.mit.edu/hmslydia/Public/project03.rdf%23project03">http://web.mit.edu/hmslydia/Public/project03.rdf#project03</a></li>
  </ul>


<p>First, the algorithm dereferences the URI <a href="http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator" target="_blank">http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator</a> which is contained in the triple pattern. By looking up the URI, it gets the  DOAP file of the Tabulator project. The DOAP file  contains the URIs of all Tabulator developers, which are dereferenced to retrieve their FOAF files. A developer's FOAF file might contain links to her other projects. The retrieval algorithm follows these links afterwards. </p>
<h3>3.2 Query 2: Richard's Friends and their Friends </h3>
<p><strong>Query</strong> </p>
<p>&quot;Find the names and homepages of Richard's friends and the names and homepages of their friends.&quot; </p>
<p><strong>SPARQL Query</strong></p>
<pre>
PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/ &gt

SELECT DISTINCT ?friendsname ?friendshomepage ?foafsname ?foafshomepage  
WHERE {
  { &lt; http://richard.cyganiak.de/foaf.rdf#cygri &gt foaf:knows ?friend .
    ?friend foaf:mbox_sha1sum ?mbox . 
    ?friendsURI foaf:mbox_sha1sum ?mbox .
    ?friendsURI foaf:name ?friendsname .
    ?friendsURI foaf:homepage ?friendshomepage . }
    OPTIONAL { ?friendsURI foaf:knows ?foaf .
               ?foaf foaf:name ?foafsname .
               ?foaf foaf:homepage ?foafshomepage .
             } 
  }
</pre>
<p><strong>Query Result</strong></p>
<p>The query returns 60  results. Some of the results are: </p>
<table width="90%"  border="1">
  <tr>
    <td><strong>?friendsname</strong></td>
    <td><strong>?friendshomepage</strong></td>
    <td><strong>?foafsname</strong></td>
    <td><strong>?foafshomepage</strong></td>
  </tr>
  <tr>
    <td>"David Best"</td>
    <td>&lt;http://www.david-best.de/&gt;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
    <tr>
    <td>"David Best"</td>
    <td>&lt;http://www.david-best.de/&gt;</td>
    <td>"Sebastian Frank"</td>
    <td>&lt;http://userpage.fu-berlin.de/~baltru/&gt; </td>
  </tr>
   <tr>
    <td>"David Best"</td>
    <td>&lt;http://www.david-best.de/&gt;</td>
    <td>"Richard Cyganiak"</td>
    <td>&lt;http://richard.cyganiak.de&gt; </td>
  </tr>
  <tr>
    <td>"David Best"</td>
    <td>&lt;http://www.david-best.de/&gt;</td>
    <td>"Richard Cyganiak"</td>
    <td>&lt;http://richard.cyganiak.de&gt; </td>
  </tr>
    <tr>
    <td>"David Best"</td>
    <td>&lt;http://www.david-best.de/&gt;</td>
    <td>"Anja Jentzsch"</td>
    <td>&lt;http://www.anjeve.de&gt; </td>
  </tr>
   <tr>
    <td>...</td>
    <td>...</td>
    <td>...</td>
    <td>...</td>
  </tr>
   <tr>
    <td>"Sven Schwarz" </td>
    <td>&lt;http://www.dfki.uni-kl.de/~schwarz/&gt;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
<tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt;http://www.anjeve.de&gt;</td>
    <td>"Lyndon Nixon"</td>
    <td>&lt;http://page.mi.fu-berlin.de/~nixon/&gt;</td>
  </tr>
  <tr>
  <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt;http://www.anjeve.de&gt;</td>
    <td>"Arne Handt"</td>
    <td>&lt;http://www.handtwerk.de&gt;</td>
  </tr>
  <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt;http://www.anjeve.de&gt;</td>
    <td>"Marco Rademacher"</td>
    <td>&lt;http://page.mi.fu-berlin.de/~mrademac/&gt;</td>
  </tr>
  <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt;http://www.anjeve.de&gt;</td>
    <td>"Christian Bizer" </td>
    <td>&lt;http://www.bizer.de&gt;</td>
  </tr>
    <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt;http://www.anjeve.de&gt;</td>
    <td>"Robert Tolksdorf" </td>
    <td>&lt;http://www.robert-tolksdorf.de&gt;</td>
  </tr>
  <tr>
    <td>...</td>
    <td>...</td>
    <td>...</td>
    <td>...</td>
  </tr>
  
</table>
<p><strong><br />
  Retrieved Graphs</strong></p>
<p>The following graphs have been retrieved by the library's directed browsing algorithm for 


 answering

 the query: <br />
    <br />
<a href="http://richard.cyganiak.de/foaf.rdf">http://richard.cyganiak.de/foaf.rdf</a><br />
<a href="http://www.aifb.uni-karlsruhe.de/WBS/mvo/foaf.rdf.xml">http://www.aifb.uni-karlsruhe.de/WBS/mvo/foaf.rdf.xml</a><br />
<a href="http://www.handtwerk.de/foaf.rdf">http://www.handtwerk.de/foaf.rdf</a><br />
<a href="http://g1o.net/g1ofoaf.xml">http://g1o.net/g1ofoaf.xml</a><br />
<a href="http://www.leobard.net/foaf.xml">http://www.leobard.net/foaf.xml</a><br />
<a href="http://www.anjeve.de/foaf.rdf">http://www.anjeve.de/foaf.rdf</a><br />
<a href="http://thefigtrees.net/lee/ldf-card">http://thefigtrees.net/lee/ldf-card</a><br />
<a href="http://torrez.us/who">http://torrez.us/who</a><br />
<a href=" http://page.mi.fu-berlin.de/~best/foaf.rdf"> http://page.mi.fu-berlin.de/~best/foaf.rdf</a><br />
<a href="http://bblfish.net/people/henry/card">http://bblfish.net/people/henry/card</a><br />
<a href="http://www.dfki.uni-kl.de/~schwarz/foaf.xml">http://www.dfki.uni-kl.de/~schwarz/foaf.xml</a><br />
<a href="http://www.wiwiss.fu-berlin.de/suhl/bizer/foaf.rdf">http://www.wiwiss.fu-berlin.de/suhl/bizer/foaf.rdf</a><br />
<a href="http://www.livejournal.com/users/littleve/data/foaf">http://www.livejournal.com/users/littleve/data/foaf</a><br />
<a href="http://xmlns.com/foaf/0.1/mbox_sha1sum">http://xmlns.com/foaf/0.1/mbox_sha1sum</a><br />
<a href="http://xmlns.com/foaf/0.1/knows">http://xmlns.com/foaf/0.1/knows</a><br />
<a href="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</a><br />
<a href="http://xmlns.com/foaf/0.1/homepage">http://xmlns.com/foaf/0.1/homepage</a><br />
<a href="http://www.gnowsis.com/leo/foaf.xml">http://www.gnowsis.com/leo/foaf.xml</a><br />
<a href="http://www.leobard.net/rdf/foaf.xml">http://www.leobard.net/rdf/foaf.xml</a><br />
<a href="http://www.dfki.uni-kl.de/~maus/foaf.xml">http://www.dfki.uni-kl.de/~maus/foaf.xml</a><br />
<a href="http://www.dfki.de/~kiesel/foaf.xml">http://www.dfki.de/~kiesel/foaf.xml</a><br />
<a href="http://zine.niij.org/data/about-me">http://zine.niij.org/data/about-me</a><br />
<a href="http://www.dfki.uni-kl.de/~grimnes/foaf.rdf">http://www.dfki.uni-kl.de/~grimnes/foaf.rdf</a><br />
<a href="http://www.heimwege.de/foaf/foaf.xml">http://www.heimwege.de/foaf/foaf.xml</a><br />
<a href="http://anjeve.de/foaf.rdf">http://anjeve.de/foaf.rdf</a><br />
<a href="http://www.unix-ag.uni-kl.de/~guenther/guenther.xml">http://www.unix-ag.uni-kl.de/~guenther/guenther.xml</a><br />
<a href="http://www.dfki.uni-kl.de/~sintek/foaf.xml">http://www.dfki.uni-kl.de/~sintek/foaf.xml</a><br />
<a href="http://purl.org/net/inkel/inkel.foaf.rdf">http://purl.org/net/inkel/inkel.foaf.rdf</a><br />
<a href="http://www.kwark.org/XML/foaf.rdf">http://www.kwark.org/XML/foaf.rdf</a><br />
<a href="http://www.livejournal.com/users/doctorow/data/foaf">http://www.livejournal.com/users/doctorow/data/foaf</a><br />
<a href=" http://www.csd.abdn.ac.uk/~ggrimnes/codepict.rdf"> http://www.csd.abdn.ac.uk/~ggrimnes/codepict.rdf</a><br />
<a href="http://swordfish.rdfweb.org/people/libby/rdfweb/webwho.xrdf">http://swordfish.rdfweb.org/people/libby/rdfweb/webwho.xrdf</a><br />
<a href="http://www.webmink.net/foaf.rdf">http://www.webmink.net/foaf.rdf</a><br />
<a href="http://dannyayers.com/me.rdf">http://dannyayers.com/me.rdf</a><br />
<a href="http://torrez.us/feed/rdf">http://torrez.us/feed/rdf</a><br />
<a href="http://clark.dallas.tx.us/kendall/foaf.rdf">http://clark.dallas.tx.us/kendall/foaf.rdf</a><br />
<a href="http://www.w3.org/People/Connolly/home-smart.rdf">http://www.w3.org/People/Connolly/home-smart.rdf</a><br />
<a href="http://www.dajobe.org/foaf.rdf">http://www.dajobe.org/foaf.rdf</a><br />
<a href="http://www.sirpheon.com/foaf.rdf">http://www.sirpheon.com/foaf.rdf</a><br />
<a href="http://thefigtrees.net/lee/eliast-school.ics.rdf">http://thefigtrees.net/lee/eliast-school.ics.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~nixon/foaf.rdf">http://page.mi.fu-berlin.de/~nixon/foaf.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~jentzsch/foaf.rdf">http://page.mi.fu-berlin.de/~jentzsch/foaf.rdf</a><br />
<a href="http://www.w3.org/People/Connolly/travel-sched">http://www.w3.org/People/Connolly/travel-sched</a><br />
<a href="http://captsolo.net/semweb/foaf-captsolo.rdf">http://captsolo.net/semweb/foaf-captsolo.rdf</a><br />
<a href="http://icite.net/about/foaf.rdf">http://icite.net/about/foaf.rdf</a><br />
<a href="http://xml.mfd-consult.dk/morten/foaf.rdf">http://xml.mfd-consult.dk/morten/foaf.rdf</a><br />
<a href="http://xml.mfd-consult.dk/foaf/morten.rdf">http://xml.mfd-consult.dk/foaf/morten.rdf</a><br />
<a href="http://rdfweb.org/people/danbri/rdfweb/danbri-foaf.rdf">http://rdfweb.org/people/danbri/rdfweb/danbri-foaf.rdf</a><br />
<a href="http://www.david-best.de/foaf.rdf">http://www.david-best.de/foaf.rdf</a><br />
<a href="http://userpage.fu-berlin.de/%7Epaslaru/foaf.rdf">http://userpage.fu-berlin.de/%7Epaslaru/foaf.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~mschulze/foaf-extended.rdf">http://page.mi.fu-berlin.de/~mschulze/foaf-extended.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~barnicke/semanticweb/foaf-a-matic.rdf">http://page.mi.fu-berlin.de/~barnicke/semanticweb/foaf-a-matic.rdf</a><br />
<a href="http://www.userpage.fu-berlin.de/~brok/foaf.rdf">http://www.userpage.fu-berlin.de/~brok/foaf.rdf</a><br />
 </p>

<h2><a name="command" id="command"></a>4. Using the Library on the Command Line </h2>
<p>The library provides a command line tool that allows you to execute SPARQL and find(SPO) queries against the Semantic Web. 
It is invoked using the <tt>semwebquery</tt> command, which is found in the <tt>bin</tt> folder of the distribution.</p>

<p>Example queries:</p>

<pre>semwebquery -sparqlfile tabulator-devs.sparql -retrieveduris</pre>

<pre>semwebquery -load http://richard.cyganiak.de/foaf.rdf#cygri
    -find "ANY &lt;http://xmlns.com/foaf/0.1/knows&gt; ANY"</pre>

<p>This table shows the parameters of the <tt>semwebquery</tt> command:</p>

<table border="1" cellpadding="3" cellspacing="0">
  <tr>
    <td valign="top"><strong>Parameter</strong></td>
    <td><strong>Description</strong></td>
  </tr>
  <tr>
    <td valign="top"><tt>-sparql &lt;Query&gt; </tt></td>
    <td>Executes a SPARQL query against the Semantic Web. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-sparqlfile &lt;Filename&gt; </tt></td>
    <td>Loads a SPARQL query from a file and executes it against the Semantic Web. </td>
  </tr>
  <tr>
    <td valign="top" width="28%"><tt>-find &lt;TriplePattern&gt; </tt></td>
    <td width="72%">Executes a find(SPO) query against the Semantic Web. Example:<br />
      <tt>-find &quot;&lt;http://www.w3.org/People/Berners-Lee/card#i&gt; ANY ANY&quot;</tt></td>
  </tr>
  <tr>
    <td valign="top"><tt>-maxsteps &lt;Integer&gt; </tt><br /></td>
    <td>Sets the maximal number of iterations of the retrieval algorithm. The default value is 3.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-timeout &lt;Integer&gt; </tt><br /></td>
    <td>Sets the timeout of the query in seconds. The default is 60 seconds. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-maxthreads &lt;Integer&gt; </tt><br /></td>
    <td>Sets the maximal number of parallel threads for retrieving URIs. The default value is 10. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-load &lt;URI&gt; </tt><br /></td>
    <td>Loads a graph from the Web into the local cache before the query is executed. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-grddl</tt><br /></td>
    <td>Enables GRDDL support; see <a href="#grddl">below</a>.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-sindice</tt><br /></td>
    <td>Enables Sindice-based URI search during query execution; see <a href="#sindice">below</a>.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-loadtrig &lt;Filename&gt; </tt><br /></td>
    <td>Loads a set of named graphs from a <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/TriG/" target="_blank">TriG</a> file before the query is executed.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-savetrig &lt;Filename&gt; </tt><br /></td>
    <td>Saves all graphs that have been retrieved during the query execution into a file.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-retrieveduris</tt><br /></td>
    <td>Outputs a list of all successfully retrieved URIs.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-redirecteduris</tt><br /></td>
    <td>Outputs a mapping of URIs that have been redirected.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-faileduris</tt><br /></td>
    <td>Outputs a list of all URIs that could not be retrieved. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-verbose</tt><br /></td>
    <td>Shows additional information about the retrieval process. </td>
  </tr>
</table>

<p>The SemanticWebQuery command line tool creates an output like <a href="ExampleOutput.txt">this</a>. </p>

<p>Tip: Using <tt>-loadtrig</tt> and <tt>-savetrig</tt> in the same command allows you to cumulate cache data from several queries.</p>


<h2><a name="using" id="using"></a>5. Using the Library in your Applications  </h2>
<p>The Semantic Web Client Library is based on the <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/ng4j/" target="_blank">NG4J - Named Graphs API for Jena</a>. The main interface of the Library is the SemanticWebClient interface. The table shows its most important methods. See <a href="../javadoc/index.html">JavaDoc</a> for details about all methods.</p>

<table border="1" cellpadding="3" cellspacing="0">
  <tr>
    <td colspan="2"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/semwebclient/SemanticWebClient.html"><strong>SemanticWebClient</strong></a> implements <a href="../javadoc/de/fuberlin/wiwiss/ng4j/NamedGraphSet.html">NamedGraphSet</a></td>
  </tr>
  <tr>
    <td colspan="2">Semantic Web Client represents all data that is published on the Semantic Web a global set of named RDF graphs. Applications can query the merge of this graph set using the SPARQL query language or using find(SPO) queries. </td>
  </tr>
  <tr>
    <td valign="top"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/semwebclient/SemanticWebClient.html#find(com.hp.hpl.jena.graph.TripleMatch)">find(pattern)</a></td>
    <td>Returns a iterator over all matching triples. </td>
  </tr>
  <tr>
    <td valign="top" width="28%"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/semwebclient/SemanticWebClient.html#find(com.hp.hpl.jena.graph.TripleMatch,%20de.fuberlin.wiwiss.ng4j.semwebclient.TripleListener)">find(pattern,listener)</a></td>
    <td width="72%">Returns void. A Triple listener which notifies an application when a triple is found or the retrieval process is finished can be passed.</td>
  </tr>
  <tr>
    <td valign="top"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/impl/NamedGraphSetIO.html#read(java.lang.String,%20java.lang.String)">read(url,lang)</a><br /></td>
    <td>Read NamedGraphs from a URL into the NamedGraphSet. Supported RDF serialization languages are TriX, TriG, RDF/XML, N-Triples and N3. </td>
  </tr>
  <tr>
    <td valign="top"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/impl/NamedGraphSetIO.html#write(java.io.Writer,%20java.lang.String,%20java.lang.String)">write(url,lang,baseURI)</a> </td>
    <td>Writes a serialized representation of the NamedGraphSet to a writer. Supported RDF serialization languages are TriX, TriG, RDF/XML, N-Triples and N3. If the specified serialization language doesn't support Named Graphs, then the union graph will be serialized, and knowledge about graph names is lost. Only TriX and TriG support graph naming. </td>
  </tr>
  <tr>
    <td valign="top"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/impl/NamedGraphSetImpl.html#asJenaGraph(com.hp.hpl.jena.graph.Node)">asJenaGraph(defaultGraphForAdding)</a>  </td>
    <td>Returns a Jena Graph view on the NamedGraphSet, equivalent to the union graph of all graphs in the graph set. </td>
  </tr>
  <tr>
    <td valign="top"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/impl/NamedGraphSetImpl.html#asJenaModel(java.lang.String)">asJenaModel(defaultGraphForAdding)</a> </td>
    <td>Returns a Jena Model view on the NamedGraphSet, equivalent to the union graph of all graphs in the graph set. All Statements returned by this NamedGraphsModel can be casted to NamedGraphStatements in order to access provenance information about the graphs they are contained in. </td>
  </tr>
  <tr>
    <td colspan="2"><a href="../javadoc/de/fuberlin/wiwiss/ng4j/semwebclient/SemanticWebClient.html">More...</a></td>
  </tr>
</table>
<h3>5.1 Executing a SPARQL Query</h3>
<p>The following example demonstrates how  a new Semantic Web client is created and how the client is used to execute a SPARQL query against the Semantic Web. </p>
<pre>
import com.hp.hpl.jena.query.*;
import de.fuberlin.wiwiss.ng4j.semwebclient.SemanticWebClient;


// Create a new Semantic Web client.
SemanticWebClient semweb = new SemanticWebClient(); <br /> 
// Specify the query.<br />String queryString = <br />"PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt; " + <br />"PREFIX doap: &lt;http://usefulinc.com/ns/doap#&gt; " +   <br />"PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; " + <br />"SELECT DISTINCT ?name ?mbox ?furtherProjects " + <br />"WHERE {&lt;http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator&gt; doap:developer ?dev . " + <br />"?dev foaf:name ?name OPTIONAL {?dev foaf:mbox ?mbox}" + <br />"OPTIONAL {?dev doap:Project ?proj . ?proj foaf:name ?furtherProjects}}"; <br /> 
// Execute the query and obtain results. <br />Query query = QueryFactory.create(queryString); 
QueryExecution qe = QueryExecutionFactory.create(query, semweb.asJenaModel("default")); 
ResultSet results = qe.execSelect(); <br />
// Output query results.<br />ResultSetFormatter.out(System.out, results, query); <br />
</pre>
<h3>5.2 Executing a find(SPO) Query </h3>
<p>The Semantic Web Client provides two different find methods. The first one, find(TripleMatch) returns an iterator over all matching Triples. First, the  iterator returns matching triples from the cached graphs. Afterwards, the iterator's hasNext() method waits until more matching triples are found in retrieval process. When retrieval process is finished, the hasNext() method returns false. </p>
<pre>
// Create a new Semantic Web client.
SemanticWebClient semweb = new SemanticWebClient(); <br /> 
// Specify the query.
Triple t = new Triple(Node.ANY, Node.createURI("http://xmlns.com/foaf/0.1/knows"), Node.ANY);

// Search for the triple
Iterator iter = semWeb.find(t);

// Loop over all matching triples
while(iter.hasNext()){
	SemWebTriple triple = (SemWebTriple) iter.next();
	System.out.println(triple.toString());
}
</pre>
<p>The find() method can also be called with a TripleListener as second parameter. A TripleListener is an application-specific class that handles triple found events. A TripleListener has to implement the methods tripleFound() and findFinished(). The tripleFound() method is called every time when a new triple is found. The findFinished() method is called once when the retrieval process is finished. </p>
<p>The following example shows a simple listener which implements the TripleListener interface. Whenever a triple is found, the listener  prints  the triple to System.out.</p>
<pre>class ExampleListener implements TripleListener {
	public int count = 0;
		
	public void tripleFound(Triple t){
		System.out.println("Found Triple: " + t.toString());
		this.count++;
	}
			
	public void findFinished(){
		System.out.println("Find finshed. " + this.count + &quot; triples found.&quot; );
	}			
}
</pre>
<h3>5.3 Configuration</h3>
<p>Several aspects of the retrieval algorithm can be configured using the <tt>SemanticWebClient.setConfig</tt> method.</p>
<pre>SemanticWebClient semWeb = new SemanticWebClient();
semWeb.setConfig("maxsteps","3");</pre>
<table border="1" cellpadding="3" cellspacing="0">
  <tr>
    <th>Parameter</th>
    <th>Description</th>
    <th>Default</th>
  </tr>
  <tr>
    <td valign="top"><tt>maxsteps</tt></td>
    <td>The maximum depth of links followed during a single query. 0 means no links are followed.</td>
    <td valign="top">3</td>
  </tr>
  <tr>
    <td valign="top"><tt>maxthreads</tt></td>
    <td>The number of threads to use for URI dereferencing.</td>
    <td valign="top">10</td>
  </tr>
  <tr>
    <td valign="top"><tt>timeout</tt></td>
    <td>The maximal execution time for a query in milliseconds. A query will finish with the results found up to that point if the timeout is reached.</td>
    <td valign="top">10000</td>
  </tr>
  <tr>
    <td valign="top"><tt>enablegrddl</tt></td>
    <td>Setting this to <tt>true</tt> enables GRDDL support; see <a href="#grddl">below</a>.</td>
    <td valign="top">false</td>
  </tr>
  <tr>
    <td valign="top"><tt>enablesindicesearch</tt></td>
    <td>Setting this to <tt>true</tt> enables Sindice-based URI search during query execution; see <a href="#sindice">below</a>.</td>
    <td valign="top">false</td>
  </tr>
</table>
<h3>5.4 Information Provenance </h3>
<p>The Semantic Web Client Library provides applications with several methods  to access provenance information about retrieved information.</p>
<h4>SemWebTriples</h4>
<p>Both find() methods return SemWebTriples. A SemWebTriple can be asked for its 


 origin

 by calling the <tt>SemWebTriple.getSource</tt> method. The method returns the URL from which the triple was retrieved.</p>
<p><strong>Provenance Graph </strong></p>
<p>The local cache contains a named  graph called <code>http://localhost/provenanceInformation</code>. This graph consists of a <code>swp:sourceURL</code> and a <code>swp:retrievalTimestamp</code> triple for each retrieved graph. The content of the  graph can be used within SPARQL queries to restrict the 


 origin

 of information. This allows applications to apply different<a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/pub/Bizer-TriQLP-Browser-SWPW.pdf" target="_blank"> trust policies</a> for deciding whether to accept or reject information from the Semantic Web. </p>
<p><strong>Dereferenced URI Lists</strong></p>
<p>After the retrieval process is finished, two lists containing all successfully and all unsuccessfully retrieved URIs can be accessed by calling the <tt>SemanticWebClient.successfullyDereferencedURIs</tt> and <tt>SemanticWebClient.unsuccessfullyDereferencedURIs</tt> methods. The methods return iterators over all successfully and unsuccessfully dereferenced URIs. </p>


<h2 id="grddl">6. GRDDL Support</h2>

<p><a href="http://www.w3.org/TR/grddl/">GRDDL</a> is a technique for obtaining RDF data from XML 
documents and in particular XHTML pages. This works by adding a link to an XSLT stylesheet to the
XML document. The stylesheet transforms the document to RDF/XML. Here is an example taken from
<a href="http://www.w3.org/People/Connolly/">Dan Connolly's home page</a>:</p>

<pre>&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
  &lt;head profile="http://www.w3.org/2003/g/data-view
                 http://purl.org/NET/erdf/profile 
                 http://dig.csail.mit.edu/2007/id/doc
                 http://www.w3.org/2006/03/hcard"&gt;
    &lt;title&gt;Dan Connolly, W3C&lt;/title&gt;
    ...
    &lt;link rel="transformation"
          href="http://www.w3.org/2002/12/cal/glean-hcal.xsl"/&gt;
    &lt;link rel="transformation"
          href="http://www.w3.org/2002/12/cal/myevents"/&gt;
    ...</pre>

<p>The important part is the GRDDL metadata profile
(<tt>http://www.w3.org/2003/g/data-view</tt>) in the <tt>profile</tt>
attribute of the <tt>head</tt> element. It tells us that GRDDL can be
used to extract RDF from this page. The <tt>link</tt> element with
<tt>rel="transformation"</tt> attributes point to the XSLT stylesheets
that can be applied to get the RDF data.</p>

<p>Another way to link to the XSLT stylesheets is by putting a <em>profile
document</em> at the profile URL, and placing the links inside this
document. More details on this can be found in the
<a href="http://www.w3.org/TR/grddl-primer/">GRDDL Primer</a>.</p>

The following query extracts
information about the events that Dan Connolly will attend:</p>

<pre>PREFIX v: &lt;http://www.w3.org/2002/12/cal/icaltzd#&gt;
SELECT ?event ?prop ?value
WHERE {
   ?event v:attendee &lt;http://www.w3.org/People/Connolly/#me&gt; .
   ?event ?prop ?value
}</pre>

To retrieve the results, issue this command, assuming the SPARQL
query is saved in a file <tt>dc.sql</tt>:

<pre>semwebquery -grddl -sparqlfile dc.sql</pre>

<h3 id="grddl-api">6.1 Enabling GRDDL in the Java API</h3>

<p>Enabling GRDDL support for your own applications that use the <tt>SemanticWebClient</tt> API:</p>

<pre>SemanticWebClient swc = new SemanticWebClient();
swc.setConfig(SemanticWebClient.CONFIG_ENABLEGRDDL, "true");</pre>

<h3 id="grddl-performance">6.2 Performance Considerations</h3>

<p>The GRDDL mechanism imposes heavy CPU utilization for applying the XSLT
transformations and makes extensive use of the network bandwidth for
retrieving transformation documents. These computer resource
requirements are multiplied in some cases because of the recursive
nature of the GRDDL algorithm. Therefore the GRDDL feature is disabled
by default. It is also recommended to use a HTTP proxy in order to speed
up the retrieval of popular transformations or profile documents.</p>

<h2 id="sindice">7. Sindice Search Engine Support</h2>

<p>In addition to the dereferencing of URIs the library optionally queries the
<a href="http://sindice.com" target="_blank">Sindice search engine</a> to find
further RDF documents that mention the URIs. These additional documents are
stored in the local cache. Hence, enabling Sindice-based URI search during the
query execution may yield more complete results. For instance, while the query
for properties with range <tt>foaf:Person</tt> (i.e. the find(SPO) query
<tt>"ANY @rdfs:range &lt;http://xmlns.com/foaf/0.1/Person&gt;"</tt>) finds one
result without URI search the same query discovers six distinct results with
URI search (tested on 2008/08/13).</p>

<p>However, use this option with care. Since enabling URI search may result in the
addition of a large number of discovered graphs the consumed memory may grow
drastically. For instance, the library cached 42 graphs during the URI search
enabled execution of the aforementioned query; for the the same query execution
without URI search the library added only two graphs to the cache. Furthermore,
searching for URIs increases the query execution time significantly.</p>


<h2>8. <a name="download" id="download"></a>Download</h2>
<p>The Semantic Web Client Library is part of the <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/ng4j/" target="_blank"> NG4J - Named Graphs API for Jena</a> project and  can be downloaded from <a href="http://sourceforge.net/projects/ng4j/" target="_blank">Sourceforge NG4J</a>.</p>
<p>The Semantic Web Client Library is licensed under the terms of the Berkeley Software Distribution (BSD) license. </p>


<h2><a name="support" id="support"></a>9. Support and feedback</h2>
<p>We are interested in hearing about your opinion and your 


 experience

 with the library. Please sent comments and bug reports to the NG4J-namedgraphs mailing list: </p>
<p><a href="mailto:ng4j-namedgraphs@lists.sourceforge.net">ng4j-namedgraphs@lists.sourceforge.net </a></p>
<p>The archives of the list are found at <a href="http://sourceforge.net/mailarchive/forum.php?forum=ng4j-namedgraphs">http://sourceforge.net/mailarchive/forum.php?forum=ng4j-namedgraphs </a><br />
  You can subscribe to the list at <a href="http://lists.sourceforge.net/lists/listinfo/ng4j-namedgraphs">http://lists.sourceforge.net/lists/listinfo/ng4j-namedgraphs</a></p>
<p>Good starting points for playing around with the library is interlinked data published by the Tabulator project (<a href="http://dig.csail.mit.edu/2005/ajar/ajaw/data">http://dig.csail.mit.edu/2005/ajar/ajaw/data</a>) and the D2R demo server running at <a href="http://www3.wiwiss.fu-berlin.de:2020/">http://www3.wiwiss.fu-berlin.de:2020/</a>. If you find other interesting chunks of interlinked data on the Semantic Web that can be queried using the library, please tell us. </p>
<p><a href="http://sourceforge.net/projects/d2rq-map/"><img src="http://sourceforge.net/sflogo.php?group_id=111002&amp;type=5" alt="SourceForge Logo" /></a></p>
<div id="footer">
  <small>$Id: index.html,v 1.10 2008/08/18 15:59:42 hartig Exp $</small>
</div>
</div>

</body>
</html>
