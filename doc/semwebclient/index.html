<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Semantic Web Client Library</title>
<style type="text/css">
body { background: white; color: black; font-family: sans-serif; line-height: 1.4em; padding: 2.5em 3em; margin: 0; }
:link { color: #00c; }
:visited { color: #609; }
a:link img { border: none; }
a:visited img { border: none; }
h1, h2, h3 { background: white; color: #800; }
h1 { font: 170% sans-serif; margin: 0; }
h2 { font: 140% sans-serif; margin: 1.5em 0 -0.5em 0; }
h3 { font: 120% sans-serif; margin: 1.5em 0 -0.5em 0; }
h4 { font: bold 100% sans-serif; }
h5 { font: italic 100% sans-serif; }
h6 { font: small-caps 100% sans-serif; }
.hide { display: none; }
pre { background: #fff6bb; font-family: monospace; line-height: 1.2em; padding: 1em 2em; }
dt { font-weight: bold; margin-top: 0; margin-bottom: 0; }
dd { margin-top: 0; margin-bottom: 0; }
code, tt { font-family: monospace; }
ul.toc { list-style-type: none; }
ol.toc li a { text-decoration: none; }
.note { color: red; }
#header { border-bottom: 1px solid #ccc; }
#logo { float: right; }
#authors { clear: right; float: right; font-size: 80%; text-align: right; }
#content { clear: both; margin: 2em auto 0 0; text-align: justify }
#download { font-family: sans-serif; margin-bottom: 1em; text-align: center; }
#download h2 { font-size: 125%; margin: 1.5em 0 -0.2em 0; }
#download small { color: #888; font-size: 80%; }
#footer { border-top: 1px solid #ccc; color: #aaa; margin: 2em 0 0; }

@media Print {
* { font-size: 92%; }
body { padding: 0; line-height: 1.2em; }
#content { margin: 0; width: 100%; }
}
@media Aural {
h1 { stress: 20; richness: 90; }
h2 { stress: 20; richness: 90; }
h3 { stress: 20; richness: 90; }
.hide { speak: none; }
dt { pause-before: 20%; }
pre { speak-punctuation: code; }
}
.Stil1 {color: #FF0000}
</style>
</head>
<body>

<div id="logo">
  <a href="http://www.fu-berlin.de/"><img src="fu-logo.gif" alt="Freie Universität Berlin Logo"></a>
</div>

<div id="header">
  <h1 style="font-size: 250%;">Semantic Web Client Library </h1>
  <div id="tagline">Transparent RDF access to the Web of Data.</div>
</div>
<div id="authors">
  <p><a href="http://www.bizer.de/" target="_blank">Chris Bizer<br />
  </a><a href="mailto:tobias.gauss@web.de">Tobias Gau&szlig;<br />
  </a> 
    <a href="http://richard.cyganiak.de/" target="_blank">Richard Cyganiak</a><br>
  </p>
</div>

<div id="content">

<p>&nbsp;</p>
<p>The <strong>Sematic Web Client Library</strong> represents the complete
Semantic Web as a single RDF graph. The library enables applications to
access the Web of Data through a transparent RDF interface and to query
this global graph using SPARQL and find(SPO) queries. To answer queries,
the library dynamically retrieves information from the Semantic Web by
dereferencing HTTP URIs and by following <tt>rdfs:seeAlso</tt> links.
The library is written in Java, uses the Jena framework, and can be
downloaded as part of the <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/ng4j/">NG4J</a> API.</p>

<h2>Contents</h2>
<ol>
  <li><a href="#intro">Introduction &#8211; Creating a Web of Data</a></li>
  <li><a href="#how">How does the Library work? </a></li>
  <li><a href="#examples">Example Queries </a></li>
  <li><a href="#command">Using the Library on the Command Line </a></li>
  <li><a href="#using">Using the Library in your Applications </a></li>
  <li><a href="#download">Download</a></li>
  <li><a href="#support">Support and Feedback </a></li>
</ol>
<p>&nbsp;</p>

<h2><a name="intro" id="intro"></a>1. Introduction &#8211; Creating a Web of Data</h2>

<p>Recently, Semantic Web developers and researchers are <strong>stressing the
<em>web</em> aspect</strong> of the <a href="http://www.w3.org/2001/sw/" target="_blank">Semantic Web</a>.
It is increasingly understood as a single, global information
space consisting of interlinked RDF data:</p>

<ul>
  <li>Current W3C efforts stress the fact that URI references should be dereference-able (<a href="http://www.w3.org/TR/swbp-vocab-pub/" target="_blank">W3C working draft on Best Practice Recipes for Publishing RDF Vocabularies</a>).</li>
  <li>There is a nice memo by Tim Berners-Lee about the role of links on the Semantic Web (<a href="http://www.w3.org/DesignIssues/LinkedData.html" target="_blank">Berners-Lee: Linked Data</a>).</li>
  <li>There are efforts around <a href="http://swoogle.umbc.edu/">Swoogle</a> to measure the size and characterize the content of the Semantic Web (<a href="http://ebiquity.umbc.edu/paper/html/id/316/Characterizing-the-Semantic-Web-on-the-Web" target="_blank">Ding, Finin: Characterizing the Semantic Web on the Web</a>).</li>
  <li>The <a href="http://www.w3.org/2005/ajar/About.html" target="_blank">Tabulator</a> browser lets surfers browse interlinked data on the Semantic Web (<a href="http://swui.semanticweb.org/swui06/papers/Berners-Lee/Berners-Lee.pdf">Berners-Lee et al: Tabulator: Exploring and Analyzing linked data on the Semantic Web</a>).</li>
  <li>Tools like <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/d2r-server/">D2R Server</a> make it easy to publish existing data on on the Semantic Web (<a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/pub/Bizer-Cyganiak-D2R-Server-ISWC2006.pdf">Bizer, Cyganiak: D2R Server – Publishing Relational Databases on the Semantic Web</a>).</li>
</ul>

<p>All these efforts are based on the assumption that, for being part of the Semantic Web, data should ideally fullfil these requirements:</p>

<ol>
<li><p>All entities of interest, such as information resources,
real-world objects, and vocabulary terms should be <strong>identified</strong> by
URI references.</p></li>
<li><p>The best URI references are <a href="http://www.w3.org/TR/2004/REC-webarch-20041215/#dereference-uri">dereference-able</a>,
meaning that they are <em>on the Web</em>: An application can
look up URIs and <strong>retrieve a representation</strong>
of the identified resource, e.g. over the HTTP protocol.</p></li>
<li><p>Resource descriptions should be represented in a <strong>standardized
format</strong>, such as RDF with its <a href="http://www.w3.org/TR/rdf-syntax-grammar/">RDF/XML</a>
and <a href="http://www.dajobe.org/2004/01/turtle/">Turtle</a> syntaxes.</p></li>
<li><p>If data is embedded inside other Web documents, such as Microformat
data inside an HTML page, then these documents should include hints
how to automatically <strong>extract RDF data</strong> from them, for instance using
<a href="http://www.w3.org/TR/2006/WD-grddl-scenarios-20061002/" target="_blank">GRDDL</a>.</p></li>
<li><p>Resource descriptions should <strong>link to related information</strong>,
published by the same party or someone else,
e.g. by using other dereferenceable URIs in RDF statements,
and by using
<tt><a href="http://www.w3.org/TR/rdf-schema/#ch_seealso">rdfs:seeAlso</a></tt>
links. This creates an interlinked Web of Data.</p></li>
</ol>

<p>The <strong>Semantic Web Client Library</strong> regards all data that is published according to these rules as a single, global set of <a href="http://www.w3.org/2004/03/trix/">named RDF graphs</a>. The library allows application to query the merge of this graph set using the <a href="http://www.w3.org/TR/rdf-sparql-query/">SPARQL</a> query language or using find(SPO) queries. The triples that are returned by a find(SPO) query are linked to the graphs in which they occur, meaning that applications can keep track of information  provenance.</p>

<p>Technically, the library represents the Semantic Web as a single <a href="http://jena.sourceforge.net/">Jena RDF graph or Jena Model</a>. As both interfaces are commonly used within RDF applications, the library can be used to replace local RDF stores. Meaning that an RDF application is turned into a Semantic Web application. For instance, it might be fun to plug the library  below existing RDF browsers. </p>


<h2><a name="how" id="how"></a>2. How does the Library work?</h2>

<p>For answering queries, the library dynamically retrieves information from the Semantic Web. Whenever a resource is accessed, the library looks for related information sing a directed-browsing algorithm. A similar algorithm is used by the Tabulator browser (See section 4 of the <a href="http://swui.semanticweb.org/swui06/papers/Berners-Lee/Berners-Lee.pdf" target="_blank">Tabulator paper</a>).</p>

<p>The library caches retrieved information locally as a set of named graphs. The library uses the <a href="jena.sourceforge.net/ARQ/">ARQ</a> SPARQL query engine to split SPARQL queries into sets of triple patterns which are consecutively matched against the Semantic Web.</p>

<p>For each triple pattern, the library executes the following algorithm:</p>
<ol>
  <li>look up URIs that appear in the triple pattern. Add retrieved graphs to the local graph set.</li>
  <li>look up any URI y where the graph set includes the triple { x rdfs:seeAlso y } and x is a URI from the triple pattern. Add retrieved graphs to the local graph set.</li>
  <li>match the triple pattern against all graphs in the local graph set.</li>
  <li>for each triple that matches the triple pattern
    <ol>
      <li>look up all new URIs that apear in the triple. Add retrieved graphs to the local graph set.</li>
      <li>look up any new URI y where the graph set includes the triple { x rdfs:seeAlso y } and x is a URI from a matching triple. Add retrieved graphs to the local graph set.</li>
    </ol>
  </li>
  <li>match the triple pattern against all newly retrieved graphs.</li>
  <li>repreat step 4 and 5 until the maximum mumber of retrieval steps or the timeout is reached.</li>
</ol>

<p>For URIs containing the hash character ("#"), the part before the hash will be used for retrieval.</p>

<p>Retrieved graphs are kept in the local cache after the query execution is finished. Thus, the local cache is cumulatively filled by executing queries and the same query might return different results if it is asked again after some other queries have been executed. For providing the algorithm with proper starting points, it can also be helpful to manually load some graphs into the local cache before querying.</p>

<p>The library is multithreaded to allow faster retrieval.</p>


<h2><a name="examples" id="examples"></a>3. Example Queries </h2>

<p>This section shows some example queries.</p>

<h3>3.1 SPARQL Query</h3>
<p><strong>Query</strong> </p>
<p>&quot;Find all developers of the Tabulator Project, their email addresses and other projects they are involved in.&quot;</p>
<p><strong>SPARQL Query</strong></p>
<pre>PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
PREFIX doap: &lt;http://usefulinc.com/ns/doap#&gt;
SELECT DISTINCT ?name ?mbox ?projectName
WHERE { 
  &lt;http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator&gt; doap:developer ?dev .
  ?dev foaf:name ?name .
  OPTIONAL { ?dev foaf:mbox ?mbox }
  OPTIONAL { ?dev doap:Project ?proj . 
             ?proj foaf:name ?projectName }
}</pre>
<p><strong>Query Result</strong></p>
<table width="90%"  border="1">
  <tr>
    <td>?name</td>
    <td>?mbox</td>
    <td>?projectName</td>
  </tr>
  <tr>
    <td>"Ruth Dhanaraj"</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Timothy Berners-Lee"</td>
    <td>&lt;<a href="mailto:timbl@w3.org">mailto:timbl@w3.org </a>&gt;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"David Sheets"</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"James Hollenbach"</td>
    <td>&lt;<a href="mailto:jambo@mit.edu">mailto:jambo@mit.edu </a>&gt;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Dan Connolly"</td>
    <td>&lt;<a href="mailto:connolly@w3.org">mailto:connolly@w3.org </a>&gt;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Adam Lerer"</td>
    <td>"alerer@mit.edu"</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Yuhsin Joyce Chen"</td>
    <td>"yuhsin@mit.edu"</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Yu-hsin Chen"</td>
    <td>"yuhsin@mit.edu"</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>"Lydia Chilton"</td>
    <td>"hmslydia@gmail.com"</td>
    <td>"The illustrious project II"</td>
  </tr>
  <tr>
    <td>"Lydia Chilton"</td>
    <td>"hmslydia@gmail.com"</td>
    <td>"The inimitable project III"</td>
  </tr>
</table>

<p><strong>Retrieved Graphs</strong></p>

<p>The following graphs have been retrieved by the library's directed browsing algorithm for anwering the query:</p>

<p style="color: red">@@@ Replace this list with a textual description of what happens? "It gets the Tabulator DOAP file, which lists the developers, then gets their FOAF files, ..."</p>

<ul>
  <li><a href="http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator">http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator</a></li>
  <li><a href="http://web.mit.edu/ruthdhan/www/foaf.rdf%23ruthdhan">http://web.mit.edu/ruthdhan/www/foaf.rdf#ruthdhan</a></li>
  <li><a href="http://web.mit.edu/dsheets/www/foaf.rdf%23dsheets">http://web.mit.edu/dsheets/www/foaf.rdf#dsheets</a></li>
  <li><a href="http://web.mit.edu/hmslydia/Public/foaf.rdf%23hmslydia">http://web.mit.edu/hmslydia/Public/foaf.rdf#hmslydia</a></li>
  <li><a href="http://www.w3.org/People/Berners-Lee/card#i">http://www.w3.org/People/Berners-Lee/card#i</a></li>
  <li><a href="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</a></li>
  <li><a href="http://usefulinc.com/ns/doap%23developer">http://usefulinc.com/ns/doap#developer</a></li>
  <li><a href="http://web.mit.edu/jambo/www/foaf.rdf%23jambo">http://web.mit.edu/jambo/www/foaf.rdf#jambo</a></li>
  <li><a href="http://web.mit.edu/yuhsin/www/foaf.rdf%23yuhsin">http://web.mit.edu/yuhsin/www/foaf.rdf#yuhsin</a></li>
  <li><a href="http://web.mit.edu/alerer/www/foaf.rdf%23alerer">http://web.mit.edu/alerer/www/foaf.rdf#alerer</a></li>
  <li><a href="http://xmlns.com/foaf/0.1/mbox">http://xmlns.com/foaf/0.1/mbox</a></li>
  <li><a href="http://www.w3.org/People/Connolly/home-smart.rdf">http://www.w3.org/People/Connolly/home-smart.rdf</a></li>
  <li><a href="http://www.w3.org/People/Connolly/travel-sched">http://www.w3.org/People/Connolly/travel-sched</a></li>
  <li><a href="http://web.mit.edu/hmslydia/Public/project02.rdf%23project02">http://web.mit.edu/hmslydia/Public/project02.rdf#project02</a></li>
  <li><a href="http://web.mit.edu/hmslydia/Public/project03.rdf%23project03">http://web.mit.edu/hmslydia/Public/project03.rdf#project03</a></li>
</ul>


<h3>3.2 SPARQL Query 2</h3>
<p style="color:red">@@@ Macht es Sinn da unten 50 Links aufzulisten? Außerdem frag ich mich jetzt ob es eine gute Idee ist mein soziales Netzwerk hier dermaßen auszuwalzen :-/</p>

<p><strong>Query</strong> </p>
<p>&quot;Find the names and homepages of Richards friends and the names and homepages of their friends.&quot; </p>
<p><strong>SPARQL Query</strong></p>
<pre>
PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/ &gt

SELECT DISTINCT ?friendsname ?friendshomepage ?foafsname ?foafshomepage  
WHERE {
  { &lt; http://richard.cyganiak.de/foaf.rdf#cygri &gt foaf:knows ?friend .
    ?friend foaf:mbox_sha1sum ?mbox . 
    ?friendsURI foaf:mbox_sha1sum ?mbox .
    ?friendsURI foaf:name ?friendsname .
    ?friendsURI foaf:homepage ?friendshomepage . }
    OPTIONAL { ?friendsURI foaf:knows ?foaf .
               ?foaf foaf:name ?foafsname .
               ?foaf foaf:homepage ?foafshomepage .
             } 
  }
</pre>
<p><strong>Query Result</strong></p>
<table width="90%"  border="1">
  <tr>
    <td>?friendsname</td>
    <td>?friendshomepage</td>
    <td>?foafsname</td>
    <td>?foafshomepage</td>
  </tr>
  <tr>
    <td>"David Best"</td>
    <td>&lt; http://www.david-best.de/ &gt;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
    <tr>
    <td>"David Best"</td>
    <td>&lt; http://www.david-best.de/ &gt;</td>
    <td>"Sebastian Frank"</td>
    <td>&lt; http://userpage.fu-berlin.de/~baltru/ &gt; </td>
  </tr>
   <tr>
    <td>"David Best"</td>
    <td>&lt; http://www.david-best.de/ &gt;</td>
    <td>"Richard Cyganiak"</td>
    <td>&lt; http://richard.cyganiak.de &gt; </td>
  </tr>
  <tr>
    <td>"David Best"</td>
    <td>&lt; http://www.david-best.de/ &gt;</td>
    <td>"Richard Cyganiak"</td>
    <td>&lt; http://richard.cyganiak.de &gt; </td>
  </tr>
    <tr>
    <td>"David Best"</td>
    <td>&lt; http://www.david-best.de/ &gt;</td>
    <td>"Anja Jentzsch"</td>
    <td>&lt; http://www.anjeve.de &gt; </td>
  </tr>
   <tr>
    <td>...</td>
    <td>...</td>
    <td>...</td>
    <td>...</td>
  </tr>
   <tr>
    <td>"Sven Schwarz" </td>
    <td>&lt; http://www.dfki.uni-kl.de/~schwarz/ &gt;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
<tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt; http://www.anjeve.de &gt;</td>
    <td>"Lyndon Nixon"</td>
    <td>&lt; http://page.mi.fu-berlin.de/~nixon/ &gt;</td>
  </tr>
  <tr>
  <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt; http://www.anjeve.de &gt;</td>
    <td>"Arne Handt"</td>
    <td>&lt; http://www.handtwerk.de &gt;</td>
  </tr>
  <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt; http://www.anjeve.de &gt;</td>
    <td>"Marco Rademacher"</td>
    <td>&lt; http://page.mi.fu-berlin.de/~mrademac/ &gt;</td>
  </tr>
  <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt; http://www.anjeve.de &gt;</td>
    <td>"Christian Bizer" </td>
    <td>&lt; http://www.bizer.de &gt;</td>
  </tr>
    <tr>
    <td>"Anja Jentzsch"</td>
    <td>&lt; http://www.anjeve.de &gt;</td>
    <td>"Robert Tolksdorf" </td>
    <td>&lt; http://www.robert-tolksdorf.de &gt;</td>
  </tr>
  <tr>
    <td>...</td>
    <td>...</td>
    <td>...</td>
    <td>...</td>
  </tr>
  
</table>
<p><strong><br />
  Retrieved Graphs</strong></p>
<p>The following graphs have been retrieved by the library's directed browsing algorithm for anwering the query: <br />
    <br />
<a href="http://richard.cyganiak.de/foaf.rdf">http://richard.cyganiak.de/foaf.rdf</a><br />
<a href="http://www.aifb.uni-karlsruhe.de/WBS/mvo/foaf.rdf.xml">http://www.aifb.uni-karlsruhe.de/WBS/mvo/foaf.rdf.xml</a><br />
<a href="http://www.handtwerk.de/foaf.rdf">http://www.handtwerk.de/foaf.rdf</a><br />
<a href="http://g1o.net/g1ofoaf.xml">http://g1o.net/g1ofoaf.xml</a><br />
<a href="http://www.leobard.net/foaf.xml">http://www.leobard.net/foaf.xml</a><br />
<a href="http://www.anjeve.de/foaf.rdf">http://www.anjeve.de/foaf.rdf</a><br />
<a href="http://thefigtrees.net/lee/ldf-card">http://thefigtrees.net/lee/ldf-card</a><br />
<a href="http://torrez.us/who">http://torrez.us/who</a><br />
<a href=" http://page.mi.fu-berlin.de/~best/foaf.rdf"> http://page.mi.fu-berlin.de/~best/foaf.rdf</a><br />
<a href="http://bblfish.net/people/henry/card">http://bblfish.net/people/henry/card</a><br />
<a href="http://www.dfki.uni-kl.de/~schwarz/foaf.xml">http://www.dfki.uni-kl.de/~schwarz/foaf.xml</a><br />
<a href="http://www.wiwiss.fu-berlin.de/suhl/bizer/foaf.rdf">http://www.wiwiss.fu-berlin.de/suhl/bizer/foaf.rdf</a><br />
<a href="http://www.livejournal.com/users/littleve/data/foaf">http://www.livejournal.com/users/littleve/data/foaf</a><br />
<a href="http://xmlns.com/foaf/0.1/mbox_sha1sum">http://xmlns.com/foaf/0.1/mbox_sha1sum</a><br />
<a href="http://xmlns.com/foaf/0.1/knows">http://xmlns.com/foaf/0.1/knows</a><br />
<a href="http://xmlns.com/foaf/0.1/name">http://xmlns.com/foaf/0.1/name</a><br />
<a href="http://xmlns.com/foaf/0.1/homepage">http://xmlns.com/foaf/0.1/homepage</a><br />
<a href="http://www.gnowsis.com/leo/foaf.xml">http://www.gnowsis.com/leo/foaf.xml</a><br />
<a href="http://www.leobard.net/rdf/foaf.xml">http://www.leobard.net/rdf/foaf.xml</a><br />
<a href="http://www.dfki.uni-kl.de/~maus/foaf.xml">http://www.dfki.uni-kl.de/~maus/foaf.xml</a><br />
<a href="http://www.dfki.de/~kiesel/foaf.xml">http://www.dfki.de/~kiesel/foaf.xml</a><br />
<a href="http://zine.niij.org/data/about-me">http://zine.niij.org/data/about-me</a><br />
<a href="http://www.dfki.uni-kl.de/~grimnes/foaf.rdf">http://www.dfki.uni-kl.de/~grimnes/foaf.rdf</a><br />
<a href="http://www.heimwege.de/foaf/foaf.xml">http://www.heimwege.de/foaf/foaf.xml</a><br />
<a href="http://anjeve.de/foaf.rdf">http://anjeve.de/foaf.rdf</a><br />
<a href="http://www.unix-ag.uni-kl.de/~guenther/guenther.xml">http://www.unix-ag.uni-kl.de/~guenther/guenther.xml</a><br />
<a href="http://www.dfki.uni-kl.de/~sintek/foaf.xml">http://www.dfki.uni-kl.de/~sintek/foaf.xml</a><br />
<a href="http://purl.org/net/inkel/inkel.foaf.rdf">http://purl.org/net/inkel/inkel.foaf.rdf</a><br />
<a href="http://www.kwark.org/XML/foaf.rdf">http://www.kwark.org/XML/foaf.rdf</a><br />
<a href="http://www.livejournal.com/users/doctorow/data/foaf">http://www.livejournal.com/users/doctorow/data/foaf</a><br />
<a href=" http://www.csd.abdn.ac.uk/~ggrimnes/codepict.rdf"> http://www.csd.abdn.ac.uk/~ggrimnes/codepict.rdf</a><br />
<a href="http://swordfish.rdfweb.org/people/libby/rdfweb/webwho.xrdf">http://swordfish.rdfweb.org/people/libby/rdfweb/webwho.xrdf</a><br />
<a href="http://www.webmink.net/foaf.rdf">http://www.webmink.net/foaf.rdf</a><br />
<a href="http://dannyayers.com/me.rdf">http://dannyayers.com/me.rdf</a><br />
<a href="http://torrez.us/feed/rdf">http://torrez.us/feed/rdf</a><br />
<a href="http://clark.dallas.tx.us/kendall/foaf.rdf">http://clark.dallas.tx.us/kendall/foaf.rdf</a><br />
<a href="http://www.w3.org/People/Connolly/home-smart.rdf">http://www.w3.org/People/Connolly/home-smart.rdf</a><br />
<a href="http://www.dajobe.org/foaf.rdf">http://www.dajobe.org/foaf.rdf</a><br />
<a href="http://www.sirpheon.com/foaf.rdf">http://www.sirpheon.com/foaf.rdf</a><br />
<a href="http://thefigtrees.net/lee/eliast-school.ics.rdf">http://thefigtrees.net/lee/eliast-school.ics.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~nixon/foaf.rdf">http://page.mi.fu-berlin.de/~nixon/foaf.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~jentzsch/foaf.rdf">http://page.mi.fu-berlin.de/~jentzsch/foaf.rdf</a><br />
<a href="http://www.w3.org/People/Connolly/travel-sched">http://www.w3.org/People/Connolly/travel-sched</a><br />
<a href="http://captsolo.net/semweb/foaf-captsolo.rdf">http://captsolo.net/semweb/foaf-captsolo.rdf</a><br />
<a href="http://icite.net/about/foaf.rdf">http://icite.net/about/foaf.rdf</a><br />
<a href="http://xml.mfd-consult.dk/morten/foaf.rdf">http://xml.mfd-consult.dk/morten/foaf.rdf</a><br />
<a href="http://xml.mfd-consult.dk/foaf/morten.rdf">http://xml.mfd-consult.dk/foaf/morten.rdf</a><br />
<a href="http://rdfweb.org/people/danbri/rdfweb/danbri-foaf.rdf">http://rdfweb.org/people/danbri/rdfweb/danbri-foaf.rdf</a><br />
<a href="http://www.david-best.de/foaf.rdf">http://www.david-best.de/foaf.rdf</a><br />
<a href="http://userpage.fu-berlin.de/%7Epaslaru/foaf.rdf">http://userpage.fu-berlin.de/%7Epaslaru/foaf.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~mschulze/foaf-extended.rdf">http://page.mi.fu-berlin.de/~mschulze/foaf-extended.rdf</a><br />
<a href="http://page.mi.fu-berlin.de/~barnicke/semanticweb/foaf-a-matic.rdf">http://page.mi.fu-berlin.de/~barnicke/semanticweb/foaf-a-matic.rdf</a><br />
<a href="http://www.userpage.fu-berlin.de/~brok/foaf.rdf">http://www.userpage.fu-berlin.de/~brok/foaf.rdf</a><br />
 </p>

<h2><a name="command" id="command"></a>4. Using the Library on the Command Line </h2>
<p>The library provides a command line tool that allows you to execute SPARQL and find(SPO) queries against the Semantic Web. 
It is invoked using the <tt>semwebclient</tt> command, which is found in the <tt>bin</tt> folder of the distribution.</p>

<p>Example queries:</p>

<pre>semwebquery -sparqlfile tabulator-devs.sparql -retrieveduris</pre>

<pre>semwebquery -load http://richard.cyganiak.de/foaf.rdf#cygri
    -find "ANY &lt;http://xmlns.com/foaf/0.1/knows&gt; ANY"</pre>

<p>This table shows the parameters of the command line interface:</p>

<table border="1" cellpadding="3" cellspacing="0">
  <tr>
    <td valign="top"><strong>Parameter</strong></td>
    <td><strong>Description</strong></td>
  </tr>
  <tr>
    <td valign="top"><tt>-sparql &lt;Query&gt; </tt></td>
    <td>Executes a SPARQL query against the Semantic Web. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-sparqlfile &lt;Filename&gt; </tt></td>
    <td>Loads a SPARQL query from a file and executes it against the Semantic Web. </td>
  </tr>
  <tr>
    <td valign="top" width="28%"><tt>-find &lt;TriplePattern&gt; </tt></td>
    <td width="72%">Executes a find(SPO) query against the Semantic Web. Example:<br />
      <tt>-find &quot;&lt;http://www.w3.org/People/Berners-Lee/card#i&gt; ANY ANY&quot;</tt></td>
  </tr>
  <tr>
    <td valign="top"><tt>-maxsteps &lt;Integer&gt; </tt><br /></td>
    <td>Sets the maximal number of iterations of the retrieval algorithm. The default value is 3.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-timeout &lt;Integer&gt; </tt><br /></td>
    <td>Sets the timeout of the query in seconds. The default is 10. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-maxthreads &lt;Integer&gt; </tt><br /></td>
    <td>Sets the maximal number of parallel threads for retrieving URIs. The default value is 10. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-load &lt;URI&gt; </tt><br /></td>
    <td>Loads a graph from the Web into the local cache before the query is executed. </td>
  </tr>
  <tr>
    <td valign="top"><tt>-loadtrig &lt;Filename&gt; </tt><br /></td>
    <td>Loads a set of named graphs from a <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/TriG/" target="_blank">TriG</a> file before the query is executed.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-savetrig &lt;Filename&gt; </tt><br /></td>
    <td>Saves all graphs that have been retrieved during the query execution into a file.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-retrieveduris</tt><br /></td>
    <td>Outputs a list of all successfully retrieved URIs.</td>
  </tr>
  <tr>
    <td valign="top"><tt>-faileduris</tt><br /></td>
    <td>Outputs a list of all URIs that could not be retrieved. </td>
  </tr>
</table>

<p>The SemanticWebQuery command line tool creates an output like <a href="ExampleOutput.txt">this</a>. </p>

<p>Tip: Using <tt>-loadtrig</tt> and <tt>-savetrig</tt> in the same command allows you to cumulate cache data from several queries.</p>


<h2><a name="using" id="using"></a>5. Using the Library in your Applications  </h2>
<p>The Semantic Web Client Library is based on the <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/ng4j/" target="_blank">NG4J - Named Graphs API for Jena</a>.</p>

<p>The main interface of the Library is the SemanticWebClient interface. The table shows its most important methods. See <a href="javadoc/index.html">JavaDoc</a> for details about all methods.</p>

<table border="1" cellpadding="3" cellspacing="0">
  <tr>
    <td colspan="2"><strong>SemanticWebClient</strong> extends NamedGraphSet </td>
  </tr>
  <tr>
    <td colspan="2">Semantic Web Client regards all data that is published according to the rules above as a single, global set of named RDF graphs. Applications can query the merge of this graph set using the SPARQL query language or using find(SPO) queries. </td>
  </tr>
  <tr>
    <td valign="top">addGraph(namedgraph) </td>
    <td>Adds a NamedGraph to the set. </td>
  </tr>
  <tr>
    <td valign="top">find(triple)</td>
    <td>...</td>
  </tr>
  <tr>
    <td valign="top" width="28%">find(triple, listener)</td>
    <td width="72%">...</td>
  </tr>
  <tr>
    <td valign="top">read(url, lang) <br /></td>
    <td>Read NamedGraphs from a URL into the NamedGraphSet. Supported RDF serialization languages are TriX, TriG, RDF/XML, N-Triples and N3. </td>
  </tr>
  <tr>
    <td valign="top">write(writer, lang, baseURI) </td>
    <td>Writes a serialized representation of the NamedGraphSet to a Writer. Supported RDF serialization languages are TriX, TriG, RDF/XML, N-Triples and N3. If the specified serialization language doesn't support Named Graphs, then the union graph will be serialized, and knowledge about graph names is lost. Only TriX and TriG support graph naming. <br /></td>
  </tr>
  <tr>
    <td valign="top">asJenaGraph(defaultGraphForAdding) </td>
    <td>Returns a Jena Graph view on the NamedGraphSet, equivalent to the union graph of all graphs in the graph set. </td>
  </tr>
  <tr>
    <td valign="top">asJenaModel(defaultGraphForAdding) </td>
    <td>Returns a Jena Model view on the NamedGraphSet, equivalent to the union graph of all graphs in the graph set. All Statements returned by this NamedGraphsModel can be casted to NamedGraphStatements in order to access provenance information about the graphs they are contained in. </td>
  </tr>
  <tr>
    <td colspan="2"><a href="xxx">More ... </a></td>
  </tr>
</table>
<p>&nbsp;</p>
<h3>5.1 Executing a SPARQL Query</h3>
<p>The following code example demonstrates, how .... </p>
<pre>
SemanticWebClient semweb = new SemanticWebClientImpl(); <br /> 
// Load Tabulator doap <br />semweb.read(" <a href="http://dig.csail.mit.edu/2005/ajar/ajaw/data">http://dig.csail.mit.edu/2005/ajar/ajaw/data</a>","RDF/XML"); <br /> 
// find the developers of the Tabulator Project, their email addresses and the <br />// labels of other projects they are involved in. <br /> 
String queryString = <br />"PREFIX foaf: &lt; <a href="http://xmlns.com/foaf/0.1/">http://xmlns.com/foaf/0.1/ </a>&gt; " + <br />"PREFIX doap: &lt; <a href="http://usefulinc.com/ns/doap%23">http://usefulinc.com/ns/doap# </a>&gt; " +   <br />"PREFIX rdfs: &lt; <a href="http://www.w3.org/2000/01/rdf-schema%23">http://www.w3.org/2000/01/rdf-schema# </a>&gt; " + <br />"SELECT DISTINCT ?name ?mbox ?furtherProjects " + <br />"WHERE {&lt; <a href="http://dig.csail.mit.edu/2005/ajar/ajaw/data%23Tabulator">http://dig.csail.mit.edu/2005/ajar/ajaw/data#Tabulator </a>&gt; doap:developer ?dev . " + <br />"?dev foaf:name ?name OPTIONAL {?dev foaf:mbox ?mbox}" + <br />"OPTIONAL {?dev doap:Project ?proj . ?proj foaf:name ?furtherProjects}}"; <br /> 
Query query = QueryFactory.create(queryString); <br /> 
// Execute the query and obtain results <br />QueryExecution qe = QueryExecutionFactory.create(query, semweb.asJenaModel("default")); 
ResultSet results = qe.execSelect(); <br />
// Output query results   <br />ResultSetFormatter.out(System.out, results, query); <br />
// close the SemWebClient
semWeb.close();
</pre>
<p>&nbsp;</p>
<h3>5.2 Executing a find(SPO) Query </h3>
<p>The Semantic Web Client provides two different find methods. The first one find(TripleMatch) returns an iterator over all matching Triples. </p>
<pre>
// create a Semantic WebClient
SemanticWebClient  semWeb = new SemanticWebClientImpl();

// add some data
semWeb.read(&quot;http://richard.cyganiak.de/foaf.rdf&quot;);

// create a triple
Triple t = new Triple(Node.ANY,Node.createURI("http://xmlns.com/foaf/0.1/knows"),Node.ANY);

// search for the triple
Iterator iter = semWeb.find(t);

// loop over all matching triples
while(iter.hasNext()){
	SemWebTriple triple = (SemWebTriple) iter.next();
	System.out.println(triple.toString());
}

// close the SemWebClient
semWeb.close();
</pre>

<p>The find( TripleMatch, TripleListener) returns nothing. It is called with a second parameter a TripleListener which implements the methods tripleFound() and findFinished(). </p>

<p>A simple Listener which implements the TripleListener Interface: </p>
<pre>class ExampleListener implements TripleListener{
	public int count = 0;
	public boolean isFinished = false;
	
	public void tripleFound(Triple t){
		System.out.println("Found Triple: " + t.toString());
		this.count++;
	}
			
	public void findFinished(){
		System.out.println("Find finshed");
		this.isFinished = true;
	}
			
	public int getCount(){
		return this.count;
	}
			
	public boolean isFinished(){
		return isFinished;
	}
			
}
//create a Semantic WebClient
SemanticWebClientImpl  semWeb = new SemanticWebClientImpl();

//add some data
semWeb.read("http://richard.cyganiak.de/foaf.rdf","RDF/XML");

//create a triple
Triple t = new Triple(Node.ANY,Node.createURI("http://xmlns.com/foaf/0.1/knows"),Node.ANY);

//create a new TestListener
ExampleListener listener = new ExampleListener();

//search for the triple and add the listener to the semantic web client
semWeb.find(t,listener);

//while retrieval not finished do something
while(!listener.isFinished()){
			// do something
}
		
//get the number of matched Triples
System.out.println(listener.getCount()+" Triples found");
		
//close the SemWebClient
semWeb.close();
</pre>

<h3>Configuring the Library</h3>

<p>Several aspects of the retrieval algorithm can be configured using the <tt>SemanticWebClient.setConfig</tt> method.</p>

<pre>SemanticWebClient semWeb = new SemanticWebClientImpl();
semWeb.setConfig("maxsteps","3");</pre>

<table border="1" cellpadding="3" cellspacing="0">
  <tr>
    <th>Parameter</th>
    <th>Description</th>
    <th>Default</th>
  </tr>
  <tr>
    <td valign="top"><tt>maxsteps</tt></td>
    <td>The maximum depth of links followed during a single query. 0 means no links are followed.</td>
    <td valign="top">3</td>
  </tr>
  <tr>
    <td valign="top"><tt>maxthreads</tt></td>
    <td>The number of threads to use for URI dereferencing.</td>
    <td valign="top">10</td>
  </tr>
  <tr>
    <td valign="top"><tt>timeout</tt></td>
    <td>The maximal execution time for a query in milliseconds. A query will finish with the results found up to that point if the timeout is reached.</td>
    <td valign="top">10000</td>
  </tr>
</table>

<h3>Information Provenance </h3>
<p>@@@ Todo: Explain how to ask a triple for its provenance. </p>
<p>@@@ Todo: Explain how the retireved and failed graphs are accessed. </p>
<p>@@@ Todo: Explain http://localhost/provenanceInformation graph. </p>
<p> Within each graphset there is a graph http://localhost/provenanceInformation, which contains provenance information for each retrieved graph. Each graph is described with a swp:sourceURL and a swp:retrievalTimestamp property. (noch keine Property für RetrievalTimestamp gefunden). </p>
<h3>&nbsp; </h3>

<h2>6. <a name="download" id="download"></a>Download</h2>
<p style="color:red">Abschnitte 6 und 7 sollten weitgehend durch einen Link auf die NG4J-Seite abgehandelt werden.</p>

<p>The Semantic Web Client Library is part of<a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/ng4j/" target="_blank"> NG4J - Named Graphs API for Jena</a>. </p>
<div id="download">
  <h2><a href="http://sourceforge.net/project/showfiles.php?group_id=111002&amp;package_id=188901">Download NG4J</a></h2>
  <small>v0.4, released 2006-10-15</small> </div>
<h3>Requirements</h3>
<p>You need:</p>
<ul>
  <li><strong>Java 1.4</strong> or newer on the path (check with <tt>java -version</tt> if you're not sure),</li>
  <li class="Stil1">Anything else ??</li>
</ul>
<h3>Lisence</h3>
<p> The Semantic Web Client Libarary is lisenced under the terms of the Berkeley Software Distribution (BSD) license. </p>
<h3>Source code and development</h3>
<p>The Semantic Web Client Library is hosted by <a href="http://sourceforge.net/">SourceForge.net</a> as part of the <a href="http://sourceforge.net/projects/ng4j/%20">NG4J project</a>. The latest source code is available from the project's <a href="http://sourceforge.net/cvs/?group_id=118754">CVS repository</a> and can be <a href="http://ng4j.cvs.sourceforge.net/ng4j/ng4j/src/de/fuberlin/wiwiss/ng4j/semwebclient/">browsed online</a>.</p>
<h2><a name="support" id="support"></a>7. Support and feedback</h2>
<p>We are interested in hearing about your experiece with the library. </p>
<p>Good starting points for playing around with the library is the interlinked data published by the  Tabulator project (<a href="http://dig.csail.mit.edu/2005/ajar/ajaw/data">http://dig.csail.mit.edu/2005/ajar/ajaw/data</a>) and the D2R demo server running at <a href="http://www3.wiwiss.fu-berlin.de:2020/">http://www3.wiwiss.fu-berlin.de:2020/</a>. If you find other interesting chunks of interlinked data on the Semantic Web that can be queried using the library, please tell us. </p>
<p>Please sentcomments to the NG4J-namedgraphs mailing list: </p>
<p><a href="mailto:ng4j-namedgraphs@lists.sourceforge.net">ng4j-namedgraphs@lists.sourceforge.net </a></p>
<p>The archives of the list are found at <a href="http://sourceforge.net/mailarchive/forum.php?forum=ng4j-namedgraphs">http://sourceforge.net/mailarchive/forum.php?forum=ng4j-namedgraphs </a><br />
  You can subscribe to the list at <a href="http://lists.sourceforge.net/lists/listinfo/ng4j-namedgraphs">http://lists.sourceforge.net/lists/listinfo/ng4j-namedgraphs </a></p>
<p><a href="http://sourceforge.net/projects/d2rq-map/"><img src="http://sourceforge.net/sflogo.php?group_id=111002&amp;type=5" alt="SourceForge Logo" /></a></p>
<div id="footer">
  <small>$Id: index.html,v 1.4 2006/10/07 22:03:10 cyganiak Exp $</small>
</div>
</div>

</body>
</html>
